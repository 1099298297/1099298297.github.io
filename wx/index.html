<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤–æ˜Ÿäººç¿»è¯‘å™¨ ğŸ›¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0c0c24, #1a1a40);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(25, 25, 50, 0.8);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(0, 200, 255, 0.3);
        }

        h1 {
            text-align: center;
            color: #00e5ff;
            margin-bottom: 30px;
            text-shadow: 0 0 10px #00e5ff;
        }

        .translation-box {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #99e6ff;
            font-weight: bold;
        }

        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #00e5ff;
            border-radius: 8px;
            background: rgba(10, 10, 30, 0.9);
            color: #fff;
            font-size: 16px;
            resize: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            justify-content: center;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(90deg, #00e5ff, #0088ff);
            color: #000;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 229, 255, 0.5);
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 229, 255, 0.8);
        }

        .copy-btn {
            background: linear-gradient(90deg, #ffd000, #ff8800);
            box-shadow: 0 0 10px rgba(255, 208, 0, 0.5);
        }

        .tip {
            text-align: center;
            color: #999;
            font-size: 14px;
            margin-top: 20px;
            padding: 10px;
            background: rgba(50, 50, 80, 0.5);
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›¸ å¤–æ˜Ÿäººç¿»è¯‘å™¨ ğŸ›¸</h1>

        <div class="translation-box">
            <label for="chinese-input">ğŸ‘½ è¾“å…¥ä¸­æ–‡ï¼š</label>
            <textarea id="chinese-input" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä¸­æ–‡..."></textarea>
        </div>

        <div class="button-group">
            <button id="to-alien-btn">ä¸­æ–‡ â†’ å¤–æ˜Ÿè¯­</button>
            <button id="to-chinese-btn">å¤–æ˜Ÿè¯­ â†’ ä¸­æ–‡</button>
        </div>

        <div class="translation-box">
            <label for="alien-output">ğŸ‘¾ è¾“å…¥å¤–æ˜Ÿè¯­ï¼š</label>
            <textarea id="alien-output" placeholder="åœ¨è¿™é‡Œè¾“å…¥å¤–æ˜Ÿè¯­..."></textarea>
        </div>

        <div class="button-group">
            <button id="copy-btn" class="copy-btn">ğŸ“‹ å¤åˆ¶å¤–æ˜Ÿè¯­</button>
            <button id="clear-btn">ğŸ§¹ æ¸…ç©ºå†…å®¹</button>
        </div>

        <div class="tip">
            æç¤ºï¼šæ”¯æŒæ‰€æœ‰ä¸­æ–‡/ç¬¦å·ç¿»è¯‘ï¼å¤åˆ¶å¤–æ˜Ÿè¯­åˆ°èŠå¤©æ¡†ï¼Œå¯¹æ–¹ç”¨æ­¤å·¥å…·å¯è¿˜åŸ
        </div>
    </div>

    <script>
        // æ ¸å¿ƒï¼šåŸƒå¡ä¿„æ¯”äºšè¯­ç¬¦å·æ˜ å°„è¡¨ï¼ˆè¦†ç›–Base64æ‰€æœ‰å­—ç¬¦ï¼Œç®€çŸ­ä¸”æœ‰å¤–æ˜Ÿæ„Ÿï¼‰
        const ethiopianMap = {
            // Base64åŸºç¡€å­—ç¬¦ â†’ åŸƒå¡ä¿„æ¯”äºšè¯­ç¬¦å·
            'A':'áˆ', 'B':'áŠ•', 'C':'áŠ¥', 'D':'á‹¨', 'E':'áˆ°', 'F':'áˆ«', 
            'G':'áŠ­', 'H':'áŠ', 'I':'á‹', 'J':'?', 'K':'á‹­', 'L':'áˆ…', 
            'M':'áŠ ', 'N':'á‹°', 'O':'áŒˆ', 'P':'áŠ›', 'Q':'á¢', 'R':'á¡', 
            'S':'á£', 'T':'á¤', 'U':'á¥', 'V':'á¦', 'W':'á§', 'X':'á¨', 
            'Y':'á©', 'Z':'áª', 'a':'á«', 'b':'á¬', 'c':'á­', 'd':'á®', 
            'e':'á¯', 'f':'á°', 'g':'á±', 'h':'á²', 'i':'á³', 'j':'á´', 
            'k':'áµ', 'l':'á¶', 'm':'á·', 'n':'á¸', 'o':'á¹', 'p':'áº', 
            'q':'á»', 'r':'á¼', 's':'á', 't':'á‘', 'u':'á“', 'v':'á•', 
            'w':'á—', 'x':'á™', 'y':'á›', 'z':'áŸ', '0':'áŠ ', '1':'á‰¡', 
            '2':'á‰£', '3':'á‰¤', '4':'á‰¦', '5':'á‰¨', '6':'á‰ª', '7':'á‰¬', 
            '8':'á‰®', '9':'á‰¸', '+':'á‰¹', '/':'á‰º', '=':'á‰»'
        };

        // ç”Ÿæˆåå‘æ˜ å°„è¡¨ï¼ˆåŸƒå¡ä¿„æ¯”äºšç¬¦å· â†’ Base64å­—ç¬¦ï¼‰
        const reverseEthiopianMap = {};
        for (const [base64Char, ethiopianChar] of Object.entries(ethiopianMap)) {
            reverseEthiopianMap[ethiopianChar] = base64Char;
        }

        // è·å–DOMå…ƒç´ 
        const chineseInput = document.getElementById('chinese-input');
        const alienOutput = document.getElementById('alien-output');
        const toAlienBtn = document.getElementById('to-alien-btn');
        const toChineseBtn = document.getElementById('to-chinese-btn');
        const copyBtn = document.getElementById('copy-btn');
        const clearBtn = document.getElementById('clear-btn');

        // ä¸­æ–‡è½¬å¤–æ˜Ÿè¯­ï¼ˆBase64å‹ç¼© + åŸƒå¡ä¿„æ¯”äºšç¬¦å·æ›¿æ¢ï¼Œå¤§å¹…ç¼©çŸ­é•¿åº¦ï¼‰
        function translateToAlien() {
            try {
                const chineseText = chineseInput.value.trim();
                if (!chineseText) {
                    alienOutput.value = '';
                    return;
                }

                // æ­¥éª¤1ï¼šä¸­æ–‡è½¬Base64ï¼ˆå¤©ç„¶å‹ç¼©ï¼Œç¼©çŸ­é•¿åº¦ï¼‰
                const utf8Bytes = new TextEncoder().encode(chineseText);
                const base64Str = btoa(String.fromCharCode(...utf8Bytes));

                // æ­¥éª¤2ï¼šBase64å­—ç¬¦æ›¿æ¢æˆåŸƒå¡ä¿„æ¯”äºšè¯­ç¬¦å·ï¼ˆå¤–æ˜Ÿè¯­ï¼‰
                let alienText = '';
                for (let char of base64Str) {
                    alienText += ethiopianMap[char] || char;
                }

                alienOutput.value = alienText;
            } catch (e) {
                alert('ç¿»è¯‘å¤±è´¥ï¼š' + e.message);
                alienOutput.value = '';
            }
        }

        // å¤–æ˜Ÿè¯­è½¬ä¸­æ–‡ï¼ˆè¿˜åŸBase64 + è§£ç ï¼‰
        function translateToChinese() {
            try {
                const alienText = alienOutput.value.trim();
                if (!alienText) {
                    chineseInput.value = '';
                    return;
                }

                // æ­¥éª¤1ï¼šåŸƒå¡ä¿„æ¯”äºšç¬¦å·è¿˜åŸæˆBase64å­—ç¬¦
                let base64Str = '';
                for (let char of alienText) {
                    base64Str += reverseEthiopianMap[char] || char;
                }

                // æ­¥éª¤2ï¼šBase64è§£ç å›ä¸­æ–‡
                const utf8Bytes = new Uint8Array(atob(base64Str).split('').map(c => c.charCodeAt(0)));
                const chineseText = new TextDecoder().decode(utf8Bytes);

                chineseInput.value = chineseText;
            } catch (e) {
                alert('è¿˜åŸå¤±è´¥ï¼Œè¯·ç¡®è®¤è¾“å…¥çš„æ˜¯æ­£ç¡®çš„å¤–æ˜Ÿè¯­ï¼');
                chineseInput.value = '';
            }
        }

        // å¤åˆ¶å¤–æ˜Ÿè¯­
        function copyAlienText() {
            if (!alienOutput.value) {
                alert('æ²¡æœ‰å¯å¤åˆ¶çš„å¤–æ˜Ÿè¯­å†…å®¹ï¼');
                return;
            }
            
            navigator.clipboard.writeText(alienOutput.value)
                .then(() => {
                    alert('å¤–æ˜Ÿè¯­å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                })
                .catch(err => {
                    console.error('å¤åˆ¶å¤±è´¥:', err);
                    alienOutput.select();
                    document.execCommand('copy');
                    alert('å¤–æ˜Ÿè¯­å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                });
        }

        // æ¸…ç©ºå†…å®¹
        function clearAll() {
            chineseInput.value = '';
            alienOutput.value = '';
        }

        // ç»‘å®šäº‹ä»¶
        toAlienBtn.addEventListener('click', translateToAlien);
        toChineseBtn.addEventListener('click', translateToChinese);
        copyBtn.addEventListener('click', copyAlienText);
        clearBtn.addEventListener('click', clearAll);

        // å¿«æ·é”®æ”¯æŒ
        chineseInput.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') translateToAlien();
        });
        alienOutput.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') translateToChinese();
        });
    </script>
</body>
</html>